import{u as c,r as l,o as m,c as g,a as o,w as r,e as d,t as u,h,d as _}from"./index-CVTFm9AL.js";import{_ as v}from"./login-img1-C_ozOdz-.js";import{a as w}from"./axios-C8DqakIB.js";const x={id:"loginLayout"},f=o("div",{id:"imgGrp"},[o("img",{src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:"logo"}),o("img",{src:v,alt:"decoration image"})],-1),b={id:"loginWrapper"},k=o("img",{src:"https://raw.githubusercontent.com/hexschool/2022-web-layout-training/main/todolist/logo.png",alt:"logo"},null,-1),y=o("h1",null,"最實用的線上待辦事項服務",-1),V={class:"inputGrp"},U={class:"inputWrapper"},$=o("label",{for:"email"},"Email",-1),B={class:"inputWrapper"},L=o("label",{for:"password"},"密碼",-1),T="https://todolist-api.hexschool.io",D={__name:"LoginView",setup(W){const i=c(),s=l(""),a=l("");async function p(){if(s.value===""||a.value===""){alert("請輸入完整資料");return}const n=`${T}/users/sign_in`,t={email:s.value,password:a.value};try{const e=await w.post(n,t);console.log("登入成功",e),document.cookie=`todoToken=${e.data.token};`,document.cookie=`todoUser=${e.data.nickname};`,alert("登入成功"),i.push("/")}catch(e){console.log("登入失敗",e),alert(e.response.data.message)}}return(n,t)=>(m(),g("div",x,[f,o("div",b,[k,y,o("div",V,[o("div",U,[$,r(o("input",{name:"email",id:"email",type:"email",placeholder:"請輸入email","onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),required:""},null,512),[[d,s.value]]),o("p",null,u(s.value.value),1)]),o("div",B,[L,r(o("input",{name:"password",id:"password",type:"text",placeholder:"請輸入密碼","onUpdate:modelValue":t[1]||(t[1]=e=>a.value=e),required:""},null,512),[[d,a.value]]),h(" "+u(a.value.value),1)])]),o("button",{style:{width:"128px",height:"47px","border-radius":"10px",padding:"12px 48px","background-color":"#333333",color:"white",border:"none","font-size":"16px","font-weight":"700",margin:"1rem 0"},onClick:p}," 登入 "),o("button",{onClick:t[2]||(t[2]=e=>_(i).push("/signup")),style:{"text-decoration":"none",color:"#333333","font-size":"16px","font-weight":"700"}}," 註冊帳號 ")])]))}};export{D as default};
